{"ts":1371395084963,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"(function(){\n\tvar namespace = com.mordritch.mcSim;\n\tvar parentFunc = \"BlockType_Block\";\n\tvar funcName = \"BlockType_RedstoneWire\";\n\t\n\tnamespace[funcName] = function() {};\n\tnamespace[funcName].prototype = new namespace[parentFunc]();\n\tvar proto = namespace[funcName].prototype;\n\n\t//proto._super = com.mordritch.mcSim.BlockType_Block.prototype; //doesn't work\n\n\tproto.material = \"circuits\";\n\n\tproto.construct = function() {\n\t\tthis._renderAsNormalBlock = false;\n\t\tthis.blocksNeedingUpdate = new Array();\n\t\tthis.wiresProvidePower = true;\n\t\tthis.debugCharge = true;\n\t\tthis.debugCharge = false;\n\t}\n\t\n\tproto.canProvidePower = function() {\n\t\treturn this.wiresProvidePower;\n\t}\n\t\n\tproto.onBlockAdded = function(world, posX, posY, posZ) {\n\t\t//this._super.onBlockAdded(posX, posY, posZ); //TODO: The MCP source code calls the super method, fortunately with \"Block\", that function does nothing, but could be an issue with other block types.\n\t\t\n\t\tthis.updateAndPropagateCurrentStrength(world, posX, posY, posZ);\n\t\t\n\t\tworld.notifyBlocksOfNeighborChange(posX, posY + 1, posZ, this.blockID);\n\t\tworld.notifyBlocksOfNeighborChange(posX, posY - 1, posZ, this.blockID);\n\t\t\n\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX - 1, posY, posZ);\n\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX + 1, posY, posZ);\n\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX, posY, posZ - 1);\n\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX, posY, posZ + 1);\n\t\t\n\t\tif(world.isBlockNormalCube(posX - 1, posY, posZ)) {\n\t\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX - 1, posY + 1, posZ);\n\t\t}\n\t\telse {\n\t\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX - 1, posY - 1, posZ);\n\t\t}\n\t\t\n\t\tif(world.isBlockNormalCube(posX + 1, posY, posZ)) {\n\t\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX + 1, posY + 1, posZ);\n\t\t}\n\t\telse {\n\t\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX + 1, posY - 1, posZ);\n\t\t}\n\t\t\n\t\tif(world.isBlockNormalCube(posX, posY, posZ - 1)) {\n\t\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX, posY + 1, posZ - 1);\n\t\t}\n\t\telse {\n\t\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX, posY - 1, posZ - 1);\n\t\t}\n\t\t\n\t\tif(world.isBlockNormalCube(posX, posY, posZ + 1)) {\n\t\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX, posY + 1, posZ + 1);\n\t\t}\n\t\telse {\n\t\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX, posY - 1, posZ + 1);\n\t\t}\n\t}\n\t\n\tproto.canPlaceBlockAt = function(world, posX, posY, posZ, direction) {\n\t\tvar Block = world.Block;\n\t\treturn world.isBlockNormalCube(posX, posY - 1, posZ) || world.getBlockId(posX, posY - 1, posZ) == Block.glowStone.blockID;\n\t}\n\t\n\t/**\n\t * Returns true if the block coordinate passed can provide power, or is a redstone wire, or if its a repeater that is powered.\n\t */\n\tproto.isPowerProviderOrWire = function(world, posX, posY, posZ, direction) {\n\t\tvar blockID = world.getBlockId(posX, posY, posZ);\n\t\tif(blockID == world.Block.redstoneWire.blockID)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\tif(blockID == 0)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\tif(world.Block.blocksList[blockID].canProvidePower() && direction != -1)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\tif(blockID == world.Block.redstoneRepeaterIdle.blockID || blockID == world.Block.redstoneRepeaterActive.blockID)\n\t\t{\n\t\t\tvar blockMetadata = world.getBlockMetadata(posX, posY, posZ);\n\t\t\t//Original MCP line below:\n\t\t\t//return direction == (blockMetadata & 3) || direction == Direction.footInvisibleFaceRemap[blockMetadata & 3]; // Direction.footInvisibleFaceRemap is an array of ints, with values: 2, 3, 0, 1\n\t\t\t//Replaced by following two lines:\t\t\t\n\t\t\tvar faceRemapArray = new Array(2, 3, 0, 1); //As from Direction.footInvisibleFaceRemap\n\t\t\treturn direction == (blockMetadata & 3) || direction == faceRemapArray[blockMetadata & 3]; \n\t\t}\n\n\t\treturn false;\n\t}\n\n\tproto.isIndirectlyPoweringTo = function(world, posX, posY, posZ, direction)\n\t{\n\t\tif(!this.wiresProvidePower)\n\t\t{\n\t\t\treturn false;\n\t\t} else\n\t\t{\n\t\t\treturn this.isPoweringTo(world, posX, posY, posZ, direction);\n\t\t}\n\t }\n\n\n\tproto.isPoweredOrRepeater = function(world, posX, posY, posZ, direction)\n\t{\n\t\tif (this.isPowerProviderOrWire(world, posX, posY, posZ, direction))\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t\tvar blockID = world.getBlockId(posX, posY, posZ);\n\t\tif (blockID == world.Block.redstoneRepeaterActive.blockID)\n\t\t{\n\t\t\tvar blockMetadata = world.getBlockMetadata(posX, posY, posZ);\n\t\t\treturn direction == (blockMetadata & 3);\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tproto.isPoweringTo = function(world, posX, posY, posZ, direction)\n\t{\n\t\tif(!this.wiresProvidePower)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\t\tif(world.getBlockMetadata(posX, posY, posZ) == 0)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\t\tif(direction == 1)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t\tvar checkWest = this.isPoweredOrRepeater(world, posX - 1, posY, posZ, 1) || !world.isBlockNormalCube(posX - 1, posY, posZ) && this.isPoweredOrRepeater(world, posX - 1, posY - 1, posZ, -1);\n\t\tvar checkEast = this.isPoweredOrRepeater(world, posX + 1, posY, posZ, 3) || !world.isBlockNormalCube(posX + 1, posY, posZ) && this.isPoweredOrRepeater(world, posX + 1, posY - 1, posZ, -1);\n\t\tvar checkNorth = this.isPoweredOrRepeater(world, posX, posY, posZ - 1, 2) || !world.isBlockNormalCube(posX, posY, posZ - 1) && this.isPoweredOrRepeater(world, posX, posY - 1, posZ - 1, -1);\n\t\tvar checkSouth = this.isPoweredOrRepeater(world, posX, posY, posZ + 1, 0) || !world.isBlockNormalCube(posX, posY, posZ + 1) && this.isPoweredOrRepeater(world, posX, posY - 1, posZ + 1, -1);\n\t\t\n\t\tif(!world.isBlockNormalCube(posX, posY + 1, posZ))\n\t\t{\n\t\t\tif(world.isBlockNormalCube(posX - 1, posY, posZ) && this.isPoweredOrRepeater(world, posX - 1, posY + 1, posZ, -1)) {\n\t\t\t\tcheckWest = true;\n\t\t\t}\n\n\t\t\tif(world.isBlockNormalCube(posX + 1, posY, posZ) && this.isPoweredOrRepeater(world, posX + 1, posY + 1, posZ, -1)) {\n\t\t\t\t\tcheckEast = true;\n\t\t\t}\n\t\t\tif(world.isBlockNormalCube(posX, posY, posZ - 1) && this.isPoweredOrRepeater(world, posX, posY + 1, posZ - 1, -1)) {\n\t\t\t\tcheckNorth = true;\n\t\t\t}\n\t\t\tif(world.isBlockNormalCube(posX, posY, posZ + 1) && this.isPoweredOrRepeater(world, posX, posY + 1, posZ + 1, -1)) {\n\t\t\t\tcheckSouth = true;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(!checkNorth && !checkEast && !checkWest && !checkSouth && direction >= 2 && direction <= 5) {\n\t\t\t\treturn true;\n\t\t}\n\t\tif(direction == 2 && checkNorth && !checkWest && !checkEast) {\n\t\t\t\treturn true;\n\t\t}\n\t\tif(direction == 3 && checkSouth && !checkWest && !checkEast) {\n\t\t\t\treturn true;\n\t\t}\n\t\tif(direction == 4 && checkWest && !checkNorth && !checkSouth) {\n\t\t\t\treturn true;\n\t\t}\n\t\treturn direction == 5 && checkEast && !checkNorth && !checkSouth;\n\t}\n\n\tproto.onBlockRemoval = function(world, posX, posY, posZ) {\n\t\t//super.onBlockRemoval(posX, posY, posZ);\n\t\tworld.notifyBlocksOfNeighborChange(posX, posY + 1, posY, blockID);\n\t\tworld.notifyBlocksOfNeighborChange(posX, posY - 1, posZ, blockID);\n\n\t\tthis.updateAndPropagateCurrentStrength(world, posX, posY, posZ);\n\t\t\n\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX - 1, posY, posZ);\n\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX + 1, posY, posZ);\n\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX, posY, posZ - 1);\n\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX, posY, posZ + 1);\n\t\t\n\t\tif(world.isBlockNormalCube(posX - 1, posY, posZ)) {\n\t\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX - 1, posY + 1, posZ);\n\t\t}\n\t\telse {\n\t\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX - 1, posY - 1, posZ);\n\t\t}\n\t\t\n\t\tif(world.isBlockNormalCube(posX + 1, posY, posZ)) {\n\t\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX + 1, posY + 1, posZ);\n\t\t}\n\t\telse {\n\t\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX + 1, posY - 1, posZ);\n\t\t}\n\t\t\n\t\tif(world.isBlockNormalCube(posX, posY, posZ - 1)) {\n\t\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX, posY + 1, posZ - 1);\n\t\t}\n\t\telse {\n\t\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX, posY - 1, posZ - 1);\n\t\t}\n\t\t\n\t\tif(world.isBlockNormalCube(posX, posY, posZ + 1)) {\n\t\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX, posY + 1, posZ + 1);\n\t\t}\n\t\telse {\n\t\t\tthis.notifyWireNeighborsOfNeighborChange(world, posX, posY - 1, posZ + 1);\n\t\t}\n\t}\n\n\t\n\tproto.notifyWireNeighborsOfNeighborChange = function(world, posX, posY, posZ)\n\t{\n\t\tvar blockID = this.blockID;\n\t\t\n\t\tif(world.getBlockId(posX, posY, posZ) != blockID)\n\t\t{\n\t\t\treturn;\n\t\t} else\n\t\t{\n\t\t\tworld.notifyBlocksOfNeighborChange(posX, posY, posZ, blockID);\n\t\t\tworld.notifyBlocksOfNeighborChange(posX - 1, posY, posZ, blockID);\n\t\t\tworld.notifyBlocksOfNeighborChange(posX + 1, posY, posZ, blockID);\n\t\t\tworld.notifyBlocksOfNeighborChange(posX, posY, posZ - 1, blockID);\n\t\t\tworld.notifyBlocksOfNeighborChange(posX, posY, posZ + 1, blockID);\n\t\t\tworld.notifyBlocksOfNeighborChange(posX, posY - 1, posZ, blockID);\n\t\t\tworld.notifyBlocksOfNeighborChange(posX, posY + 1, posZ, blockID);\n\t\t\treturn;\n\t\t}\n\t}\n\t\n\t\n\tproto.onNeighborBlockChange = function (world, posX, posY, posZ, direction) {\n\t\tvar blockMetadata = world.getBlockMetadata(posX, posY, posZ);\n\t\tvar canPlaceBlockAt = this.canPlaceBlockAt(world, posX, posY, posZ);\n\t\t\n\t\tif(!canPlaceBlockAt) {\n\t\t\t//world.dropBlockAsItem(posX, posY, posZ, blockMetadata, 0);\n\t\t\tworld.setBlockWithNotify(posX, posY, posZ, 0);\n\t\t}\n\t\telse {\n\t\t\tthis.updateAndPropagateCurrentStrength(world, posX, posY, posZ);\n\t\t}\n\t\t\n\t\t//super.onNeighborBlockChange(world, posX, posY, posZ, direction); //Block which this is inherited from does nothing in the method\n\t}\n\n\t/**\n\t * Check and see if the target block is a \"power provider\" (IE: does it connect wires);\n\t */\n\tproto.isPowerProviderOrWire = function(world, posX, posY, posZ, direction) {\n\t\tvar blockID = world.getBlockId(posX, posY, posZ);\n\t\t\n\t\tif (blockID == world.Block.redstoneWire.blockID) {\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\tif (world.Block.blocksList[blockID].canProvidePower(posX, posY, posZ) && direction != -1) {\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\tif (blockID == world.Block.redstoneRepeaterIdle.blockID\n\t\t\t|| blockID == world.Block.redstoneRepeaterActive.blockID\n\t\t) {\n\t\t\tvar blockMetadata = world.getBlockMetadata(posX, posY, posZ);\n\t\t\tvar footInvisibleFaceRemap = new Array(2, 3, 0, 1); //take from Direction.\n\t\t\treturn (direction == (blockMetadata & 3) || direction == footInvisibleFaceRemap[blockMetadata & 3]) \n\t\t}\n\t\telse {\n\t\t\treturn false;\n\t\t} \n\t\t\n\t}\n\t\n\tproto.updateAndPropagateCurrentStrength = function(world, posX, posY, posZ)\n\t{\n\t\tthis.calculateCurrentChanges(world, posX, posY, posZ, posX, posY, posZ);\n\t\tvar blocksNeedingUpdate = this.blocksNeedingUpdate;\n\t\tthis.blocksNeedingUpdate = new Array();\n\t\t\n\t\t//TODO: In the MC source, it uses a hash set, which prevents element duplication, use/implement something equivalent\n\t\t\n\t\tfor(var i = 0; i < blocksNeedingUpdate.length; i++)\n\t\t{\n\t\t\tworld.notifyBlocksOfNeighborChange(blocksNeedingUpdate[i][0], blocksNeedingUpdate[i][1], blocksNeedingUpdate[i][2], this.blockID);\n\t\t}\n\n\t}\n\n\tproto.getMaxCurrentStrength = function(world, posX, posY, posZ, strength)\n\t{\n\t\tif(world.getBlockId(posX, posY, posZ) != this.blockID)\n\t\t{\n\t\t\treturn strength;\n\t\t}\n\t\t\n\t\tvar otherStrength = world.getBlockMetadata(posX, posY, posZ);\n\t\tif(otherStrength > strength)\n\t\t{\n\t\t\treturn otherStrength;\n\t\t} else\n\t\t{\n\t\t\treturn strength;\n\t\t}\n\t}\n\n\tproto.calculateCurrentChanges = function(world, posX, posY, posZ, sourcePosX, sourcePosY, sourcePosZ) {\n\t\tvar blockMetadata = world.getBlockMetadata(posX, posY, posZ);\n\t\tvar wirePowerLevel = 0;\n\t\t\n\t\tthis.wiresProvidePower = false;\n\t\tvar isBlockIndirectlyGettingPowered = world.isBlockIndirectlyGettingPowered(posX, posY, posZ);\n\t\tthis.wiresProvidePower = true;\n\t\t\n\t\tif (isBlockIndirectlyGettingPowered) {\n\t\t\twirePowerLevel = 15;\n\t\t}\n\t\telse {\n\t\t\tfor (var direction = 0; direction < 4; direction++) {\n\t\t\t\tvar checkX = posX;\n\t\t\t\tvar checkZ = posZ;\n\t\t\t\tif (direction == 0) {\n\t\t\t\t\tcheckX--;\n\t\t\t\t}\n\t\t\t\tif (direction == 1) {\n\t\t\t\t\tcheckX++;\n\t\t\t\t}\n\t\t\t\tif (direction == 2) {\n\t\t\t\t\tcheckZ--;\n\t\t\t\t}\n\t\t\t\tif (direction == 3) {\n\t\t\t\t\tcheckZ++;\n\t\t\t\t}\n\t\t\t\tif (checkX != sourcePosX || posY != sourcePosY || checkZ != sourcePosZ) {\n\t\t\t\t\twirePowerLevel = this.getMaxCurrentStrength(world, checkX, posY, checkZ, wirePowerLevel);\n\t\t\t\t}\n\t\t\t\tif (world.isBlockNormalCube(checkX, posY, checkZ) && !world.isBlockNormalCube(posX, posY + 1, posZ)) {\n\t\t\t\t\tif (checkX != sourcePosX || posY + 1 != sourcePosY || checkZ != sourcePosZ) {\n\t\t\t\t\t\twirePowerLevel = this.getMaxCurrentStrength(world, checkX, posY + 1, checkZ, wirePowerLevel);\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (!world.isBlockNormalCube(checkX, posY, checkZ) && (checkX != sourcePosX || posY - 1 != sourcePosY || checkZ != sourcePosZ)) {\n\t\t\t\t\twirePowerLevel = this.getMaxCurrentStrength(world, checkX, posY - 1, checkZ, wirePowerLevel);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (wirePowerLevel > 0) {\n\t\t\t\twirePowerLevel--;\n\t\t\t}\n\t\t\telse {\n\t\t\t\twirePowerLevel = 0;\n\t\t\t}\n\t\t}\n\t\tif (blockMetadata != wirePowerLevel) {\n\t\t\t//world.editingBlocks = true;\n\t\t\tworld.setBlockMetadataWithNotify(posX, posY, posZ, wirePowerLevel);\n\t\t\tworld.markBlocksDirty(posX, posY, posZ, posX, posY, posZ);\n\t\t\t//world.editingBlocks = false;\n\t\t\tfor (var direction = 0; direction < 4; direction++) {\n\t\t\t\tvar checkX = posX;\n\t\t\t\tvar checkZ = posZ;\n\t\t\t\tvar checkY = posY - 1;\n\t\t\t\tif (direction == 0) {\n\t\t\t\t\tcheckX--;\n\t\t\t\t}\n\t\t\t\tif (direction == 1) {\n\t\t\t\t\tcheckX++;\n\t\t\t\t}\n\t\t\t\tif (direction == 2) {\n\t\t\t\t\tcheckZ--;\n\t\t\t\t}\n\t\t\t\tif (direction == 3) {\n\t\t\t\t\tcheckZ++;\n\t\t\t\t}\n\t\t\t\tif (world.isBlockNormalCube(checkX, posY, checkZ)) {\n\t\t\t\t\tcheckY += 2;\n\t\t\t\t}\n\t\t\t\tvar otherWirePowerLevel = 0;\n\t\t\t\totherWirePowerLevel = this.getMaxCurrentStrength(world, checkX, posY, checkZ, -1);\n\t\t\t\twirePowerLevel = world.getBlockMetadata(posX, posY, posZ);\n\t\t\t\tif (wirePowerLevel > 0) {\n\t\t\t\t\twirePowerLevel--;\n\t\t\t\t}\n\t\t\t\tif (otherWirePowerLevel >= 0 && otherWirePowerLevel != wirePowerLevel) {\n\t\t\t\t\tthis.calculateCurrentChanges(world, checkX, posY, checkZ, posX, posY, posZ);\n\t\t\t\t}\n\t\t\t\totherWirePowerLevel = this.getMaxCurrentStrength(world, checkX, checkY, checkZ, -1);\n\t\t\t\twirePowerLevel = world.getBlockMetadata(posX, posY, posZ);\n\t\t\t\tif (wirePowerLevel > 0) {\n\t\t\t\t\twirePowerLevel--;\n\t\t\t\t}\n\t\t\t\tif (otherWirePowerLevel >= 0 && otherWirePowerLevel != wirePowerLevel) {\n\t\t\t\t\tthis.calculateCurrentChanges(world, checkX, checkY, checkZ, posX, posY, posZ);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (blockMetadata < wirePowerLevel || wirePowerLevel == 0) {\n\t\t\t\tthis.blocksNeedingUpdate.push(new Array(posX, posY, posZ));\n\t\t\t\tthis.blocksNeedingUpdate.push(new Array(posX - 1, posY, posZ));\n\t\t\t\tthis.blocksNeedingUpdate.push(new Array(posX + 1, posY, posZ));\n\t\t\t\tthis.blocksNeedingUpdate.push(new Array(posX, posY - 1, posZ));\n\t\t\t\tthis.blocksNeedingUpdate.push(new Array(posX, posY + 1, posZ));\n\t\t\t\tthis.blocksNeedingUpdate.push(new Array(posX, posY, posZ - 1));\n\t\t\t\tthis.blocksNeedingUpdate.push(new Array(posX, posY, posZ + 1));\n\t\t\t}\n\t\t}\n\t}\n\t\n\tproto.getConnectedDirectionsForDrawing = function(world, posX, posY, posZ) {\n\t\tvar connectedW = this.isPowerProviderOrWire(world, posX - 1, posY, posZ, 1) || !world.isBlockNormalCube(posX - 1, posY, posZ) && this.isPowerProviderOrWire(world, posX - 1, posY - 1, posZ, -1);\n\t\tvar connectedE = this.isPowerProviderOrWire(world, posX + 1, posY, posZ, 3) || !world.isBlockNormalCube(posX + 1, posY, posZ) && this.isPowerProviderOrWire(world, posX + 1, posY - 1, posZ, -1);\n\t\tvar connectedN = this.isPowerProviderOrWire(world, posX, posY, posZ - 1, 2) || !world.isBlockNormalCube(posX, posY, posZ - 1) && this.isPowerProviderOrWire(world, posX, posY - 1, posZ - 1, -1);\n\t\tvar connectedS = this.isPowerProviderOrWire(world, posX, posY, posZ + 1, 0) || !world.isBlockNormalCube(posX, posY, posZ + 1) && this.isPowerProviderOrWire(world, posX, posY - 1, posZ + 1, -1);\n\t\t\n\t\tif (!world.isBlockNormalCube(posX, posY + 1, posZ)) {\n\t\t\tif(world.isBlockNormalCube(posX - 1, posY, posZ) && this.isPowerProviderOrWire(world, posX - 1, posY + 1, posZ, -1))\n\t\t\t{\n\t\t\t\tconnectedW = true;\n\t\t\t}\n\t\t\tif(world.isBlockNormalCube(posX + 1, posY, posZ) && this.isPowerProviderOrWire(world, posX + 1, posY + 1, posZ, -1))\n\t\t\t{\n\t\t\t\tconnectedE = true;\n\t\t\t}\n\t\t\tif(world.isBlockNormalCube(posX, posY, posZ - 1) && this.isPowerProviderOrWire(world, posX, posY + 1, posZ - 1, -1))\n\t\t\t{\n\t\t\t\tconnectedN = true;\n\t\t\t}\n\t\t\tif(world.isBlockNormalCube(posX, posY, posZ + 1) && this.isPowerProviderOrWire(world, posX, posY + 1, posZ + 1, -1))\n\t\t\t{\n\t\t\t\tconnectedS = true;\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tN: connectedN,\n\t\t\tE: connectedE,\n\t\t\tS: connectedS,\n\t\t\tW: connectedW\n\t\t};\n\t}\n\t\n\tproto.drawTopView_currentLayer = function(world, posX, posY, posZ, canvas) {\n\t\tthis.drawTopView_generic(world, posX, posY, posZ, canvas);\n\t}\n\t\n\tproto.drawTopView_aboveLayer = function(world, posX, posY, posZ, canvas) {\n\t\tthis.drawTopView_generic(world, posX, posY, posZ, canvas);\n\t}\n\t\n\tproto.drawTopView_generic = function(world, posX, posY, posZ, canvas) {\n\t\tvar blockMetadata = world.getBlockMetadata(posX, posY, posZ);\n\t\tvar connected = this.getConnectedDirectionsForDrawing(world, posX, posY, posZ);\n\t\t\n\t\tif (blockMetadata > 0) {\n\t\t\tcanvas.fillStyle = \"rgb(255,0,0)\";\n\t\t}\n\t\telse {\n\t\t\tcanvas.fillStyle = \"rgb(128,0,0)\";\n\t\t}\n\t\t\n\t\tif (connected.N || (connected.S && !connected.E && !connected.W)) {\n\t\t\tcanvas.fillRect(3, 0, 2, 5);\n\t\t}\n\n\t\tif (connected.E || (connected.W && !connected.N && !connected.S)) {\n\t\t\tcanvas.fillRect(3, 3, 5, 2);\n\t\t}\n\n\t\tif (connected.S || (connected.N && !connected.E && !connected.W)) {\n\t\t\tcanvas.fillRect(3, 3, 2, 5);\n\t\t}\n\n\t\tif (connected.W || (connected.E && !connected.N && !connected.S)) {\n\t\t\tcanvas.fillRect(0, 3, 5, 2);\n\t\t}\n\t\t\n\t\tif (!connected.N && !connected.E && !connected.S && !connected.W) {\n\t\t\t//since 1.0.0 (possibly earlier) we now always draw a square in the middle if there are no connections, instead of a cross\n\t\t\tcanvas.fillRect(2, 3, 4, 2);\n\t\t\tcanvas.fillRect(3, 2, 2, 4);\n\t\t}\n\n\t\tthis.drawDebugCharge(blockMetadata, canvas);\n\t}\n\t\n\tproto.drawDebugCharge = function(charge, canvas) {\n\t\tif (this.debugCharge) {\n\t\t\tcanvas.fillStyle = \"rgba(255,255,255,0.8)\";\n\t\t\tcanvas.fillRect(0,0,8,8);\n\t\t\t\n\t\t\tcanvas.fillStyle = \"rgb(0,0,0)\";\n\t\t\tcanvas.strokeStyle = \"rgb(255,255,255)\";\n\n\t\t\tcanvas.textBaseline = \"middle\";\n\t\t\tcanvas.textAlign = \"center\";\n\t\t\tcanvas.font = \"bold \" + (6) + \"px arial\";\n\t\t\t\n\t\t\t/*\n\t\t\tSo, a couple of problems with canvas text in Google's chrome:\n\t\t\t\n\t\t\t1. canvas: the fillText method ignores the maxWidth argument\n\t\t\t\thttp://code.google.com/p/chromium/issues/detail?id=20597\n\t\t\t\n\t\t\t2. strokeText() produces no output when canvas dimensions are set dynamically\n\t\t\t\thttp://code.google.com/p/chromium/issues/detail?id=44017\n\t\t\t\t\n\t\t\tI may be able to work around #2, by re-creating the canvas elements instead of resizing them,\n\t\t\thowever, as this is just debug functionality, not going to much effort.\n\n\t\t\t*/\n\t\t\t\n\t\t\tcanvas.fillText(charge, 4, 4, 6-2);\n\t\t\t//canvas.strokeText(charge, 4, 4, 6-2);\n\t\t}\n\t}\n\n\tproto.drawSideView_currentLayer = function(world, posX, posY, posZ, canvas, lookingTowards) {\n\t\tvar blockMetadata = world.getBlockMetadata(posX, posY, posZ);\n\t\tvar connected = this.getConnectedDirectionsForDrawing(world, posX, posY, posZ);\n\t\tvar NORTH = 0, EAST = 1, SOUTH = 2, WEST = 3;\n\t\t\n\t\tif (blockMetadata > 0) {\n\t\t\tcanvas.fillStyle = \"rgb(255,0,0)\";\n\t\t}\n\t\telse {\n\t\t\tcanvas.fillStyle = \"rgb(128,0,0)\";\n\t\t}\n\t\t\n\t\tvar drawLeft = false;\n\t\tvar drawMiddle = false;\n\t\tvar drawRight = false;\n\t\tvar connections = 0;\n\n\t\tif (connected.N) {\n\t\t\tconnections++;\n\t\t\tswitch (lookingTowards) {\n\t\t\t\tcase SOUTH:\n\t\t\t\t\tdrawMiddle = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase NORTH:\n\t\t\t\t\tdrawMiddle = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase WEST:\n\t\t\t\t\tdrawRight = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase EAST:\n\t\t\t\t\tdrawLeft = true;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (connected.S) {\n\t\t\tconnections++;\n\t\t\tswitch (lookingTowards) {\n\t\t\t\tcase SOUTH:\n\t\t\t\t\tdrawMiddle = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase NORTH:\n\t\t\t\t\tdrawMiddle = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase WEST:\n\t\t\t\t\tdrawLeft = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase EAST:\n\t\t\t\t\tdrawRight = true;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (connected.E) {\n\t\t\tconnections++;\n\t\t\tswitch (lookingTowards) {\n\t\t\t\tcase SOUTH:\n\t\t\t\t\tdrawLeft = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase NORTH:\n\t\t\t\t\tdrawRight = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase WEST:\n\t\t\t\t\tdrawMiddle = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase EAST:\n\t\t\t\t\tdrawMiddle = true;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (connected.W) {\n\t\t\tconnections++;\n\t\t\tswitch (lookingTowards) {\n\t\t\t\tcase SOUTH:\n\t\t\t\t\tdrawRight = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase NORTH:\n\t\t\t\t\tdrawLeft = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase WEST:\n\t\t\t\t\tdrawMiddle = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase EAST:\n\t\t\t\t\tdrawMiddle = true;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif ((connections == 1) && (drawLeft || drawRight)) {\n\t\t\tdrawLeft = true;\n\t\t\tdrawRight = true;\n\t\t}\n\t\t\n\t\tif (drawLeft && !drawRight) {\n\t\t\tcanvas.fillRect(0, 6, 5, 2);\n\t\t}\n\t\t\n\t\tif (!drawLeft && drawRight) {\n\t\t\tcanvas.fillRect(3, 6, 5, 2);\n\t\t}\n\t\t\n\t\tif (drawLeft && drawRight) {\n\t\t\tcanvas.fillRect(0, 6, 8, 2);\n\t\t}\n\t\t\n\t\tif (!drawLeft && !drawRight && !drawMiddle) {\n\t\t\t//No connections\n\t\t\tcanvas.fillRect(2, 6, 4, 2);\n\t\t}\n\t\t\n\t\tif (!drawLeft && !drawRight && drawMiddle) {\n\t\t\tcanvas.fillRect(3, 6, 2, 2);\n\t\t}\n\t\t\n\t\tthis.drawDebugCharge(blockMetadata, canvas);\n\t}\n\n\tproto.drawIcon = function(blockObj, canvas, blockMetadata) {\n\t\tvar worldData = new com.mordritch.mcSim.World_Schematic(null, 3, 1, 3);\n\t\tworldData.setBlockAndMetadata(1, 0, 0, this.blockID, blockMetadata);\n\n\t\tworldData.setBlockAndMetadata(0, 0, 1, this.blockID, blockMetadata);\n\t\tworldData.setBlockAndMetadata(1, 0, 1, this.blockID, blockMetadata);\n\t\tworldData.setBlockAndMetadata(2, 0, 1, this.blockID, blockMetadata);\n\n\t\tworldData.setBlockAndMetadata(1, 0, 2, this.blockID, blockMetadata);\n\t\t\n\t\tvar world = new com.mordritch.mcSim.World(blockObj, worldData);\n\t\tthis.drawTopView_currentLayer(world, 1, 0, 1, canvas);\n\t}\n}());\n"]],"start1":0,"start2":0,"length1":0,"length2":21462}]],"length":21462}
{"contributors":[],"silentsave":true,"ts":1371395093643,"patch":[[{"diffs":[[0,"ingUpdate = "],[-1,"new Array()"],[1,"[]"],[0,";\n\t\tthis.wir"]],"start1":475,"start2":475,"length1":35,"length2":26}]],"length":21453,"saved":false}
{"ts":1371395182601,"patch":[[{"diffs":[[0,"posZ) =="],[1,"="],[0," Block.g"]],"start1":2549,"start2":2549,"length1":16,"length2":17}]],"length":21454,"saved":false}
{"ts":1371395301934,"patch":[[{"diffs":[[0,"oneWire.blockID)"],[-1,"\n\t\t"],[0,"{\n\t\t\treturn true"]],"start1":2890,"start2":2890,"length1":35,"length2":32}]],"length":21451,"saved":false}
{"ts":1371395303649,"patch":[[{"diffs":[[0,"lockID == 0)"],[-1,"\n\t\t"],[0,"{\n\t\t\treturn "]],"start1":2937,"start2":2937,"length1":27,"length2":24}]],"length":21448,"saved":false}
{"ts":1371395306496,"patch":[[{"diffs":[[0,"n != -1)"],[-1,"\n\t\t"],[0,"{\n\t\t\tret"]],"start1":3041,"start2":3041,"length1":19,"length2":16}]],"length":21445,"saved":false}
{"ts":1371395308314,"patch":[[{"diffs":[[0,"rActive.blockID)"],[-1,"\n\t\t"],[0,"{\n\t\t\tvar blockMe"]],"start1":3172,"start2":3172,"length1":35,"length2":32}]],"length":21442,"saved":false}
{"ts":1371395322701,"patch":[[{"diffs":[[0,"direction !="],[1,"="],[0," -1){\n\t\t\tret"]],"start1":3033,"start2":3033,"length1":24,"length2":25}]],"length":21443,"saved":false}
{"ts":1371395324948,"patch":[[{"diffs":[[0,"ID || blockID =="],[1,"="],[0," world.Block.red"]],"start1":3129,"start2":3129,"length1":32,"length2":33}]],"length":21444,"saved":false}
{"ts":1371395329132,"patch":[[{"diffs":[[0,"ockID =="],[1,"="],[0," 0){\n\t\t\t"]],"start1":2938,"start2":2938,"length1":16,"length2":17}]],"length":21445,"saved":false}
{"ts":1371395331090,"patch":[[{"diffs":[[0,"\n\t\tif(blockID =="],[1,"="],[0," world.Block.red"]],"start1":2856,"start2":2856,"length1":32,"length2":33}]],"length":21446,"saved":false}
{"ts":1371395334944,"patch":[[{"diffs":[[0,"\n\t\tif(blockID =="],[1,"="],[0," world.Block.red"]],"start1":3076,"start2":3076,"length1":32,"length2":33}]],"length":21447,"saved":false}
{"ts":1371395342059,"patch":[[{"diffs":[[0,"Array = "],[-1,"new Array("],[1,"["],[0,"2, 3, 0,"]],"start1":3542,"start2":3542,"length1":26,"length2":17}]],"length":21438,"saved":false}
{"ts":1371395344611,"patch":[[{"diffs":[[0," [2, 3, 0, 1"],[-1,")"],[1,"]"],[0,"; //As from "]],"start1":3549,"start2":3549,"length1":25,"length2":25}]],"length":21438,"saved":false}
{"ts":1371395354331,"patch":[[{"diffs":[[0,"urn direction =="],[1,"="],[0," (blockMetadata "]],"start1":3613,"start2":3613,"length1":32,"length2":33}]],"length":21439,"saved":false}
{"ts":1371395361885,"patch":[[{"diffs":[[0,"ction =="],[1,"="],[0," faceRem"]],"start1":3658,"start2":3658,"length1":16,"length2":17}]],"length":21440,"saved":false}
{"ts":1371395395735,"patch":[[{"diffs":[[0,"posZ, direction)"],[-1,"\n\t"],[0,"{\n\t\tif(!this.wir"]],"start1":3789,"start2":3789,"length1":34,"length2":32}]],"length":21438,"saved":false}
{"ts":1371395397876,"patch":[[{"diffs":[[0,"resProvidePower)"],[-1,"\n\t\t"],[0,"{\n\t\t\treturn fals"]],"start1":3820,"start2":3820,"length1":35,"length2":32}]],"length":21435,"saved":false}
{"ts":1371395400109,"patch":[[{"diffs":[[0," false;\n\t\t} else"],[-1,"\n\t\t"],[1," "],[0,"{\n\t\t\treturn this"]],"start1":3847,"start2":3847,"length1":35,"length2":33}]],"length":21433,"saved":false}
{"ts":1371395402179,"patch":[[{"diffs":[[0,", direction)"],[-1,"\n\t"],[0,"{\n\t\tif (this"]],"start1":4002,"start2":4002,"length1":26,"length2":24}]],"length":21431,"saved":false}
{"ts":1371395403660,"patch":[[{"diffs":[[0,"ection))"],[-1,"\n\t\t"],[0,"{\n\t\t\tret"]],"start1":4077,"start2":4077,"length1":19,"length2":16}]],"length":21428,"saved":false}
{"ts":1371395406122,"patch":[[{"diffs":[[0,"ive.blockID)"],[-1,"\n\t\t"],[0,"{\n\t\t\tvar blo"]],"start1":4207,"start2":4207,"length1":27,"length2":24}]],"length":21425,"saved":false}
{"ts":1371395408277,"patch":[[{"diffs":[[0,";\n\t\t}\n\t\telse"],[-1,"\n\t\t"],[1," "],[0,"{\n\t\t\treturn "]],"start1":4328,"start2":4328,"length1":27,"length2":25}]],"length":21423,"saved":false}
{"ts":1371395410046,"patch":[[{"diffs":[[0,"ta & 3);\n\t\t}"],[-1,"\n\t\t"],[1," "],[0,"else {\n\t\t\tre"]],"start1":4321,"start2":4321,"length1":27,"length2":25}]],"length":21421,"saved":false}
{"ts":1371395416446,"patch":[[{"diffs":[[0,"\t\tif (blockID =="],[1,"="],[0," world.Block.red"]],"start1":4159,"start2":4159,"length1":32,"length2":33}]],"length":21422,"saved":false}
{"ts":1371395419589,"patch":[[{"diffs":[[0,"urn direction =="],[1,"="],[0," (blockMetadata "]],"start1":4293,"start2":4293,"length1":32,"length2":33}]],"length":21423,"saved":false}
{"ts":1371395439472,"patch":[[{"diffs":[[0,"posZ) =="],[1,"="],[0," 0)\n\t\t{\n"]],"start1":4534,"start2":4534,"length1":16,"length2":17}]],"length":21424,"saved":false}
{"ts":1371395443954,"patch":[[{"diffs":[[0,"ction =="],[1,"="],[0," 1)\n\t\t{\n"]],"start1":4581,"start2":4581,"length1":16,"length2":17}]],"length":21425,"saved":false}
{"ts":1371395602984,"patch":[[{"diffs":[[0,"Remap = "],[-1,"new Array("],[1,"["],[0,"2, 3, 0,"]],"start1":9947,"start2":9947,"length1":26,"length2":17}]],"length":21416,"saved":false}
{"ts":1371395605053,"patch":[[{"diffs":[[0," 3, 0, 1"],[-1,")"],[1,"]"],[0,"; //take"]],"start1":9958,"start2":9958,"length1":17,"length2":17}]],"length":21416,"saved":false}
{"ts":1371395609430,"patch":[[{"diffs":[[0,"ction !="],[1,"="],[0," -1) {\n\t"]],"start1":9696,"start2":9696,"length1":16,"length2":17}]],"length":21417,"saved":false}
{"ts":1371395613646,"patch":[[{"diffs":[[0,"\t\tif (blockID =="],[1,"="],[0," world.Block.red"]],"start1":9541,"start2":9541,"length1":32,"length2":33}]],"length":21418,"saved":false}
{"ts":1371395617293,"patch":[[{"diffs":[[0,"rn (direction =="],[1,"="],[0," (blockMetadata "]],"start1":10001,"start2":10001,"length1":32,"length2":33}]],"length":21419,"saved":false}
{"ts":1371395620149,"patch":[[{"diffs":[[0,"\t\t\t|| blockID =="],[1,"="],[0," world.Block.red"]],"start1":9794,"start2":9794,"length1":32,"length2":33}]],"length":21420,"saved":false}
{"ts":1371395621864,"patch":[[{"diffs":[[0,"ockID =="],[1,"="],[0," world.B"]],"start1":9744,"start2":9744,"length1":16,"length2":17}]],"length":21421,"saved":false}
{"ts":1371395627574,"patch":[[{"diffs":[[0,"ction =="],[1,"="],[0," footInv"]],"start1":10048,"start2":10048,"length1":16,"length2":17}]],"length":21422,"saved":false}
{"ts":1371395630843,"patch":[[{"diffs":[[0,"lse;\n\t\t}"],[-1," "],[0,"\n\t\t\n\t}\n\t"]],"start1":10127,"start2":10127,"length1":17,"length2":16}]],"length":21421,"saved":false}
{"ts":1371395636791,"patch":[[{"diffs":[[0,"e = "],[-1,"new Array()"],[1,"[]"],[0,";\n\t\t"]],"start1":10378,"start2":10378,"length1":19,"length2":10}]],"length":21412,"saved":false}
{"ts":1371397540102,"patch":[[{"diffs":[[0,"th; i++)"],[-1,"\n\t\t"],[0,"{\n\t\t\twor"]],"start1":10556,"start2":10556,"length1":19,"length2":16}]],"length":21409,"saved":false}
{"ts":1371397792516,"patch":[[{"diffs":[[0,"posZ) !="],[1,"="],[0," this.bl"]],"start1":10821,"start2":10821,"length1":16,"length2":17}]],"length":21410,"saved":false}
{"ts":1371397813800,"patch":[[{"diffs":[[0,"if (direction =="],[1,"="],[0," 0) {\n\t\t\t\t\tcheck"]],"start1":11591,"start2":11591,"length1":32,"length2":33},{"diffs":[[0,"if (direction =="],[1,"="],[0," 1) {\n\t\t\t\t\tcheck"]],"start1":11639,"start2":11639,"length1":32,"length2":33}]],"length":21412,"saved":false}
{"ts":1371397814416,"patch":[[{"diffs":[[0,"if (direction =="],[1,"="],[0," 2) {\n\t\t\t\t\tcheck"]],"start1":11687,"start2":11687,"length1":32,"length2":33}]],"length":21413,"saved":false}
{"ts":1371397815863,"patch":[[{"diffs":[[0,"if (direction =="],[1,"="],[0," 3) {\n\t\t\t\t\tcheck"]],"start1":11735,"start2":11735,"length1":32,"length2":33}]],"length":21414,"saved":false}
{"ts":1371397822771,"patch":[[{"diffs":[[0,"\t\t\tif (checkX !="],[1,"="],[0," sourcePosX || p"]],"start1":11780,"start2":11780,"length1":32,"length2":33}]],"length":21415,"saved":false}
{"ts":1371397824583,"patch":[[{"diffs":[[0,"osY || checkZ !="],[1,"="],[0," sourcePosZ) {\n\t"]],"start1":11827,"start2":11827,"length1":32,"length2":33}]],"length":21416,"saved":false}
{"ts":1371397826367,"patch":[[{"diffs":[[0,"\t\t\tif (checkX !="],[1,"="],[0," sourcePosX || p"]],"start1":12069,"start2":12069,"length1":32,"length2":33}]],"length":21417,"saved":false}
{"ts":1371397827789,"patch":[[{"diffs":[[0,"osY || checkZ !="],[1,"="],[0," sourcePosZ) {\n\t"]],"start1":12120,"start2":12120,"length1":32,"length2":33}]],"length":21418,"saved":false}
{"ts":1371397831128,"patch":[[{"diffs":[[0," posY + 1 !="],[1,"="],[0," sourcePosY "]],"start1":12100,"start2":12100,"length1":24,"length2":25}]],"length":21419,"saved":false}
{"ts":1371397836071,"patch":[[{"diffs":[[0,"heckX !="],[1,"="],[0," sourceP"]],"start1":12341,"start2":12341,"length1":16,"length2":17}]],"length":21420,"saved":false}
{"ts":1371397837260,"patch":[[{"diffs":[[0,"Y - 1 !="],[1,"="],[0," sourceP"]],"start1":12368,"start2":12368,"length1":16,"length2":17}]],"length":21421,"saved":false}
{"ts":1371397838775,"patch":[[{"diffs":[[0,"heckZ !="],[1,"="],[0," sourceP"]],"start1":12393,"start2":12393,"length1":16,"length2":17}]],"length":21422,"saved":false}
{"ts":1371397844359,"patch":[[{"diffs":[[0," posY !="],[1,"="],[0," sourceP"]],"start1":11811,"start2":11811,"length1":16,"length2":17}]],"length":21423,"saved":false}
{"ts":1371397854546,"patch":[[{"diffs":[[0,"adata !="],[1,"="],[0," wirePow"]],"start1":12643,"start2":12643,"length1":16,"length2":17}]],"length":21424,"saved":false}
{"ts":1371397932610,"patch":[[{"diffs":[[0,"ction =="],[1,"="],[0," 0) {\n\t\t"]],"start1":13013,"start2":13013,"length1":16,"length2":17}]],"length":21425,"saved":false}
{"ts":1371397933780,"patch":[[{"diffs":[[0,"ction =="],[1,"="],[0," 1) {\n\t\t"]],"start1":13061,"start2":13061,"length1":16,"length2":17}]],"length":21426,"saved":false}
{"ts":1371397934832,"patch":[[{"diffs":[[0,"ction =="],[1,"="],[0," 2) {\n\t\t"]],"start1":13109,"start2":13109,"length1":16,"length2":17},{"diffs":[[0,"ction =="],[1,"="],[0," 3) {\n\t\t"]],"start1":13157,"start2":13157,"length1":16,"length2":17}]],"length":21428,"saved":false}
{"ts":1371397940109,"patch":[[{"diffs":[[0,"irePowerLevel !="],[1,"="],[0," wirePowerLevel)"]],"start1":13558,"start2":13558,"length1":32,"length2":33}]],"length":21429,"saved":false}
{"ts":1371398394578,"patch":[[{"diffs":[[0,"vel = 0;\n\t\t\n"],[1,"\t\tworld.\n\t\t\n"],[0,"\t\tthis.wires"]],"start1":11227,"start2":11227,"length1":24,"length2":36}]],"length":21441,"saved":false}
{"ts":1371398396094,"patch":[[{"diffs":[[0,"\t\tworld."],[1,"ge"],[0,"\n\t\t\n\t\tth"]],"start1":11239,"start2":11239,"length1":16,"length2":18}]],"length":21443,"saved":false}
{"ts":1371398398173,"patch":[[{"diffs":[[0,"\t\tworld."],[-1,"ge"],[0,"\n\t\t\n\t\tth"]],"start1":11239,"start2":11239,"length1":18,"length2":16}]],"length":21441,"saved":false}
{"ts":1371398411336,"patch":[[{"diffs":[[0,"0;\n\t\t\n\t\t"],[-1,"world"],[1,"this"],[0,".\n\t\t\n\t\tt"]],"start1":11233,"start2":11233,"length1":21,"length2":20}]],"length":21440,"saved":false}
{"ts":1371398419414,"patch":[[{"diffs":[[0,"0;\n\t\t\n\t\t"],[-1,"this."],[0,"\n\t\t\n\t\tth"]],"start1":11233,"start2":11233,"length1":21,"length2":16}]],"length":21435,"saved":false}
{"ts":1371398625199,"patch":[[{"diffs":[[0,"Level =="],[1,"="],[0," 0) {\n\t\t"]],"start1":14122,"start2":14122,"length1":16,"length2":17}]],"length":21436,"saved":false}
{"ts":1371398647493,"patch":[[{"diffs":[[0,"Update.push("],[-1,"new Array("],[1,"["],[0,"posX, posY, "]],"start1":14159,"start2":14159,"length1":34,"length2":25}]],"length":21427,"saved":false}
{"ts":1371398650674,"patch":[[{"diffs":[[0,"posX, posY, posZ"],[-1,")"],[1,"]"],[0,");\n\t\t\t\tthis.bloc"]],"start1":14172,"start2":14172,"length1":33,"length2":33}]],"length":21427,"saved":false}
{"contributors":[],"silentsave":true,"ts":1371398776450,"patch":[[{"diffs":[[0,"on);\n\t\t}"],[-1,"\n\t "],[0,"}\n\n\n\tpro"]],"start1":3926,"start2":3926,"length1":19,"length2":16}]],"length":21424,"saved":false}
{"ts":1371398777961,"patch":[[{"diffs":[[0,"on);\n\t\t}"],[1,"\n\t\n\t\t"],[0,"}\n\n\n\tpro"]],"start1":3926,"start2":3926,"length1":16,"length2":21}]],"length":21429,"saved":false}
{"ts":1371398780046,"patch":[[{"diffs":[[0,");\n\t\t}\n\t"],[-1,"\n\t\t"],[0,"}\n\n\n\tpro"]],"start1":3928,"start2":3928,"length1":19,"length2":16}]],"length":21426,"saved":false}
{"ts":1371398803673,"patch":[[{"diffs":[[0,"posZ) !="],[1,"＝"],[0," blockID"]],"start1":8173,"start2":8173,"length1":16,"length2":17}]],"length":21427,"saved":false}
{"ts":1371398815066,"patch":[[{"diffs":[[0," posZ) !"],[-1,"="],[0,"＝ blockI"]],"start1":8172,"start2":8172,"length1":17,"length2":16}]],"length":21426,"saved":false}
{"ts":1371398816047,"patch":[[{"diffs":[[0,"posZ) !＝"],[1,"＝"],[0," blockID"]],"start1":8173,"start2":8173,"length1":16,"length2":17}]],"length":21427,"saved":false}
{"ts":1371398821997,"patch":[[{"diffs":[[0,"Z) !"],[-1,"＝＝"],[0," blo"]],"start1":8176,"start2":8176,"length1":10,"length2":8}]],"length":21425,"saved":false}
{"ts":1371398822995,"patch":[[{"diffs":[[0," posZ) !"],[1,"＝"],[0," blockID"]],"start1":8172,"start2":8172,"length1":16,"length2":17}]],"length":21426,"saved":false}
{"ts":1371398824227,"patch":[[{"diffs":[[0,"Z) !"],[-1,"＝"],[0," blo"]],"start1":8176,"start2":8176,"length1":9,"length2":8}]],"length":21425,"saved":false}
{"ts":1371398828454,"patch":[[{"diffs":[[0," posZ) !"],[1,"=="],[0," blockID"]],"start1":8172,"start2":8172,"length1":16,"length2":18}]],"length":21427,"saved":false}
{"ts":1371398869537,"patch":[[{"diffs":[[0,"Update.push("],[-1,"new Array("],[1,"["],[0,"posX - 1, po"]],"start1":14214,"start2":14214,"length1":34,"length2":25}]],"length":21418,"saved":false}
{"ts":1371398871270,"patch":[[{"diffs":[[0," - 1, posY, posZ"],[-1,")"],[1,"]"],[0,");\n\t\t\t\tthis.bloc"]],"start1":14231,"start2":14231,"length1":33,"length2":33}]],"length":21418,"saved":false}
{"ts":1371398885820,"patch":[[{"diffs":[[0,"Update.push("],[-1,"new Array("],[1,"["],[0,"posX + 1, po"]],"start1":14273,"start2":14273,"length1":34,"length2":25},{"diffs":[[0,"Update.push("],[-1,"new Array("],[1,"["],[0,"posX, posY -"]],"start1":14332,"start2":14332,"length1":34,"length2":25},{"diffs":[[0,"Update.push("],[-1,"new Array("],[1,"["],[0,"posX, posY +"]],"start1":14391,"start2":14391,"length1":34,"length2":25},{"diffs":[[0,"Update.push("],[-1,"new Array("],[1,"["],[0,"posX, posY, "]],"start1":14450,"start2":14450,"length1":34,"length2":25},{"diffs":[[0,"ush("],[-1,"new Array("],[1,"["],[0,"posX"]],"start1":14517,"start2":14517,"length1":18,"length2":9}]],"length":21373,"saved":false}
{"ts":1371398890523,"patch":[[{"diffs":[[0," posY, posZ)"],[-1,")"],[0,";\n\t\t\t\tthis.b"]],"start1":14295,"start2":14295,"length1":25,"length2":24}]],"length":21372,"saved":false}
{"ts":1371398893321,"patch":[[{"diffs":[[0,", posY, posZ"],[1,"]"],[0,");\n\t\t\t\tthis."]],"start1":14294,"start2":14294,"length1":24,"length2":25},{"diffs":[[0," posY - 1, posZ)"],[-1,")"],[0,";\n\t\t\t\tthis.block"]],"start1":14350,"start2":14350,"length1":33,"length2":32}]],"length":21372,"saved":false}
{"ts":1371398894039,"patch":[[{"diffs":[[0,"sY - 1, posZ"],[1,"]"],[0,");\n\t\t\t\tthis."]],"start1":14353,"start2":14353,"length1":24,"length2":25}]],"length":21373,"saved":false}
{"ts":1371398894633,"patch":[[{"diffs":[[0,"1, posZ)"],[-1,")"],[0,";\n\t\t\t\tth"]],"start1":14417,"start2":14417,"length1":17,"length2":16}]],"length":21372,"saved":false}
{"ts":1371398895331,"patch":[[{"diffs":[[0,"sY + 1, posZ"],[1,"]"],[0,");\n\t\t\t\tthis."]],"start1":14412,"start2":14412,"length1":24,"length2":25}]],"length":21373,"saved":false}
{"ts":1371398897680,"patch":[[{"diffs":[[0,"posZ - 1"],[-1,")"],[1,"]"],[0,");\n\t\t\t\tt"]],"start1":14475,"start2":14475,"length1":17,"length2":17},{"diffs":[[0,"osZ + 1)"],[-1,")"],[0,";\n\t\t\t}\n\t"]],"start1":14535,"start2":14535,"length1":17,"length2":16}]],"length":21372,"saved":false}
{"ts":1371398898944,"patch":[[{"diffs":[[0,"sY, posZ + 1"],[1,"]"],[0,");\n\t\t\t}\n\t\t}\n"]],"start1":14530,"start2":14530,"length1":24,"length2":25}]],"length":21373,"saved":false}
{"ts":1371398929675,"patch":[[{"diffs":[[0,"Level !="],[1,"="],[0," wirePow"]],"start1":13949,"start2":13949,"length1":16,"length2":17}]],"length":21374,"saved":false}
{"ts":1371399074543,"patch":[[{"diffs":[[0,"== this.blockID)"],[-1,"\n\t\t"],[0,"{\n\t\t\treturn stre"]],"start1":10828,"start2":10828,"length1":35,"length2":32}]],"length":21371,"saved":false}
{"ts":1371399075817,"patch":[[{"diffs":[[0,"== this.blockID)"],[-1,"{"],[0,"\n\t\t\treturn stren"]],"start1":10828,"start2":10828,"length1":33,"length2":32},{"diffs":[[0,"rength;\n"],[-1,"\t\t}\n"],[0,"\t\t\n\t\tvar"]],"start1":10857,"start2":10857,"length1":20,"length2":16}]],"length":21366,"saved":false}
{"ts":1371399081492,"patch":[[{"diffs":[[0,"rength)\n"],[-1,"\t\t{\n"],[0,"\t\t\tretur"]],"start1":10955,"start2":10955,"length1":20,"length2":16}]],"length":21362,"saved":false}
{"ts":1371399083544,"patch":[[{"diffs":[[0,"Strength;\n\t\t"],[-1,"} "],[0,"else\n\t"],[-1,"\t{"],[0,"\n\t\t\treturn s"]],"start1":10978,"start2":10978,"length1":34,"length2":30}]],"length":21358,"saved":false}
{"ts":1371399085176,"patch":[[{"diffs":[[0,"\n\t\telse\n"],[-1,"\t\n"],[0,"\t\t\tretur"]],"start1":10987,"start2":10987,"length1":18,"length2":16},{"diffs":[[0,"rength;\n"],[-1,"\t\t}\n"],[0,"\t}\n\n\tpro"]],"start1":11007,"start2":11007,"length1":20,"length2":16}]],"length":21352,"saved":false}
{"ts":1371399110285,"patch":[[{"diffs":[[0,"eWire\";\n"],[-1,"\t"],[0,"\n"],[1,""],[0,"\tnamespa"]],"start1":122,"start2":122,"length1":18,"length2":17},{"diffs":[[0,"= false;\n\t}\n"],[-1,"\t"],[0,"\n"],[1,""],[0,"\tproto.canPr"]],"start1":569,"start2":569,"length1":26,"length2":25},{"diffs":[[0,"dePower;\n\t}\n"],[-1,"\t"],[0,"\n"],[1,""],[0,"\tproto.onBlo"]],"start1":644,"start2":644,"length1":26,"length2":25},{"diffs":[[0," types.\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tthis.u"]],"start1":907,"start2":907,"length1":19,"length2":17},{"diffs":[[0," posZ);\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tworld."]],"start1":975,"start2":975,"length1":19,"length2":17},{"diffs":[[0,"ockID);\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tthis.n"]],"start1":1124,"start2":1124,"length1":19,"length2":17},{"diffs":[[0,"osY, posZ + 1);\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif(world.isBlo"]],"start1":1409,"start2":1409,"length1":35,"length2":33},{"diffs":[[0,"- 1, posZ);\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif(world.isBlo"]],"start1":1637,"start2":1637,"length1":35,"length2":33},{"diffs":[[0,"- 1, posZ);\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif(world.isBlo"]],"start1":1865,"start2":1865,"length1":35,"length2":33},{"diffs":[[0," posZ - 1);\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif(world.isBlo"]],"start1":2093,"start2":2093,"length1":35,"length2":33},{"diffs":[[0," 1);\n\t\t}\n\t}\n"],[-1,"\t"],[0,"\n"],[1,""],[0,"\tproto.canPl"]],"start1":2328,"start2":2328,"length1":26,"length2":25},{"diffs":[[0,"kID;\n\t}\n"],[-1,"\t"],[0,"\n"],[1,""],[0,"\t/**\n\t *"]],"start1":2561,"start2":2561,"length1":18,"length2":17},{"diffs":[[0,"eturn true;\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif(blockID ==="]],"start1":2894,"start2":2894,"length1":35,"length2":33},{"diffs":[[0," false;\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif(world.B"]],"start1":2941,"start2":2941,"length1":27,"length2":25},{"diffs":[[0,"n true;\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif(blockID"]],"start1":3039,"start2":3039,"length1":27,"length2":25},{"diffs":[[0,"o lines:"],[-1,"\t\t\t"],[0,"\n\t\t\tvar "]],"start1":3489,"start2":3489,"length1":19,"length2":16},{"diffs":[[0,"ta & 3];"],[-1," "],[0,"\n\t\t}\n\n\t\t"]],"start1":3666,"start2":3666,"length1":17,"length2":16},{"diffs":[[0,"lse;\n\t\t}\n\t}\n"],[-1,"\t"],[0,"\n"],[1,""],[0,"\tproto.isPow"]],"start1":4325,"start2":4325,"length1":26,"length2":25},{"diffs":[[0,"Z + 1, -1);\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif(!world."]],"start1":5341,"start2":5341,"length1":27,"length2":25},{"diffs":[[0,"e;\n\t\t\t}\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif(!checkN"]],"start1":5995,"start2":5995,"length1":27,"length2":25},{"diffs":[[0," posZ);\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tthis.n"]],"start1":6761,"start2":6761,"length1":19,"length2":17},{"diffs":[[0," posZ + 1);\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif(world.i"]],"start1":7050,"start2":7050,"length1":27,"length2":25},{"diffs":[[0,"- 1, posZ);\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif(world.isBlo"]],"start1":7274,"start2":7274,"length1":35,"length2":33},{"diffs":[[0," posZ);\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif(world.i"]],"start1":7506,"start2":7506,"length1":27,"length2":25},{"diffs":[[0,"Z - 1);\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif(world.i"]],"start1":7734,"start2":7734,"length1":27,"length2":25},{"diffs":[[0,"\t\t}\n\t}\n\n"],[-1,"\t"],[0,"\n"],[1,""],[0,"\tproto.n"]],"start1":7970,"start2":7970,"length1":18,"length2":17},{"diffs":[[0,"lockID;\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif(wor"]],"start1":8083,"start2":8083,"length1":19,"length2":17},{"diffs":[[0,"\n\t\t}\n\t}\n"],[-1,"\t\n\t"],[1,"\n"],[0,"\n\tproto."]],"start1":8669,"start2":8669,"length1":19,"length2":17},{"diffs":[[0,"osY, posZ);\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif(!canPla"]],"start1":8881,"start2":8881,"length1":27,"length2":25},{"diffs":[[0,"Z);\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\t//supe"]],"start1":9110,"start2":9110,"length1":19,"length2":17},{"diffs":[[0,"X, posY, posZ);\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif (blockID =="]],"start1":9469,"start2":9469,"length1":35,"length2":33},{"diffs":[[0,"n true;\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif (world."]],"start1":9548,"start2":9548,"length1":27,"length2":25},{"diffs":[[0,"n true;\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif (blockI"]],"start1":9664,"start2":9664,"length1":27,"length2":25},{"diffs":[[0,"ta & 3])"],[-1," "],[0,"\n\t\t}\n\t\te"]],"start1":10033,"start2":10033,"length1":17,"length2":16},{"diffs":[[0,"\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t}\n"],[-1,"\t"],[0,"\n"],[1,""],[0,"\tpro"]],"start1":10072,"start2":10072,"length1":16,"length2":13},{"diffs":[[0,"e = [];\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\t//TODO"]],"start1":10315,"start2":10315,"length1":19,"length2":17},{"diffs":[[0,"ivalent\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tfor(va"]],"start1":10435,"start2":10435,"length1":19,"length2":17},{"diffs":[[0,"rength;\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tvar ot"]],"start1":10790,"start2":10790,"length1":19,"length2":17},{"diffs":[[0,"el = 0;\n"],[-1,"\t\t\n\t\t\n\t\t"],[1,"\n\n"],[0,"\n\t\tthis."]],"start1":11137,"start2":11137,"length1":24,"length2":18},{"diffs":[[0,"= true;\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif (is"]],"start1":11304,"start2":11304,"length1":19,"length2":17},{"diffs":[[0,"\t\t\t}\n\t\t}\n\t}\n"],[-1,"\t"],[0,"\n"],[1,""],[0,"\tproto.getCo"]],"start1":14448,"start2":14448,"length1":26,"length2":25},{"diffs":[[0,"1, -1);\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif (!w"]],"start1":15315,"start2":15315,"length1":19,"length2":17},{"diffs":[[0,"edW\n\t\t};\n\t}\n"],[-1,"\t"],[0,"\n"],[1,""],[0,"\tproto.drawT"]],"start1":16074,"start2":16074,"length1":26,"length2":25},{"diffs":[[0,"sZ, canvas);\n\t}\n"],[-1,"\t"],[0,"\n"],[1,""],[0,"\tproto.drawTopVi"]],"start1":16213,"start2":16213,"length1":34,"length2":33},{"diffs":[[0,"sZ, canvas);\n\t}\n"],[-1,"\t"],[0,"\n"],[1,""],[0,"\tproto.drawTopVi"]],"start1":16354,"start2":16354,"length1":34,"length2":33},{"diffs":[[0," posZ);\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif (bl"]],"start1":16582,"start2":16582,"length1":19,"length2":17},{"diffs":[[0,",0,0)\";\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif (connec"]],"start1":16699,"start2":16699,"length1":27,"length2":25},{"diffs":[[0," 5, 2);\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif (!conne"]],"start1":17127,"start2":17127,"length1":27,"length2":25},{"diffs":[[0,"as);\n\t}\n"],[-1,"\t"],[0,"\n"],[1,""],[0,"\tproto.d"]],"start1":17447,"start2":17447,"length1":18,"length2":17},{"diffs":[[0,"0,8,8);\n"],[-1,"\t\t\t"],[0,"\n"],[1,""],[0,"\t\t\tcanva"]],"start1":17602,"start2":17602,"length1":20,"length2":17},{"diffs":[[0,"arial\";\n"],[-1,"\t\t\t"],[0,"\n"],[1,""],[0,"\t\t\t/*\n\t\t"]],"start1":17796,"start2":17796,"length1":20,"length2":17},{"diffs":[[0,"chrome:\n"],[-1,"\t\t\t"],[0,"\n"],[1,""],[0,"\t\t\t1. ca"]],"start1":17868,"start2":17868,"length1":20,"length2":17},{"diffs":[[0,"d=20597\n"],[-1,"\t\t\t"],[0,"\n"],[1,""],[0,"\t\t\t2. st"]],"start1":17994,"start2":17994,"length1":20,"length2":17},{"diffs":[[0,"017\n"],[-1,"\t\t\t\t"],[0,"\n"],[1,""],[0,"\t\t\tI"]],"start1":18141,"start2":18141,"length1":13,"length2":9},{"diffs":[[0,"\t*/\n"],[-1,"\t\t\t"],[0,"\n"],[1,""],[0,"\t\t\tc"]],"start1":18321,"start2":18321,"length1":12,"length2":9},{"diffs":[[0,"ST = 3;\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif (bl"]],"start1":18697,"start2":18697,"length1":19,"length2":17},{"diffs":[[0,")\";\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tvar dr"]],"start1":18818,"start2":18818,"length1":19,"length2":17},{"diffs":[[0,"k;\n\t\t\t}\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif ((conne"]],"start1":20037,"start2":20037,"length1":27,"length2":25},{"diffs":[[0,"= true;\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif (drawLe"]],"start1":20138,"start2":20138,"length1":27,"length2":25},{"diffs":[[0,", 6, 5, 2);\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif (!drawLeft "]],"start1":20203,"start2":20203,"length1":35,"length2":33},{"diffs":[[0," 5, 2);\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif (drawLe"]],"start1":20276,"start2":20276,"length1":27,"length2":25},{"diffs":[[0,", 6, 8, 2);\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif (!drawLeft "]],"start1":20340,"start2":20340,"length1":35,"length2":33},{"diffs":[[0,"2);\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tif (!d"]],"start1":20453,"start2":20453,"length1":19,"length2":17},{"diffs":[[0,"2);\n\t\t}\n"],[-1,"\t\t"],[0,"\n"],[1,""],[0,"\t\tthis.d"]],"start1":20537,"start2":20537,"length1":19,"length2":17},{"diffs":[[0,"adata);\n"],[-1,"\t\t"],[0,"\n\t\tvar w"]],"start1":21082,"start2":21082,"length1":18,"length2":16}]],"length":21223,"saved":false}
{"ts":1371399229717,"patch":[[{"diffs":[[0,"l = 0;\n\n"],[-1,"\n\n"],[0,"\t\tthis.w"]],"start1":11138,"start2":11138,"length1":18,"length2":16}]],"length":21221,"saved":false}
{"ts":1371399842529,"patch":[[{"diffs":[[0,"osY, posZ);\n"],[1,"\t\treturn blockKM\n"],[0,"\t\tif(otherSt"]],"start1":10851,"start2":10851,"length1":24,"length2":41}]],"length":21238,"saved":false}
{"ts":1371399844887,"patch":[[{"diffs":[[0,"lock"],[-1,"K"],[0,"M"],[1,"etadata"],[0,"\n\t\ti"]],"start1":10873,"start2":10873,"length1":10,"length2":16}]],"length":21244,"saved":false}
{"ts":1371399854516,"patch":[[{"diffs":[[0,"\treturn "],[-1,"blockMetadata"],[1,"otherStrength"],[0,"\n\t\tif(ot"]],"start1":10864,"start2":10864,"length1":29,"length2":29}]],"length":21244,"saved":false}
{"ts":1371399856008,"patch":[[{"diffs":[[0,"Strength"],[1," > "],[0,"\n\t\tif(ot"]],"start1":10877,"start2":10877,"length1":16,"length2":19}]],"length":21247,"saved":false}
{"ts":1371399859895,"patch":[[{"diffs":[[0,"ength > "],[1,"strength ? "],[0,"\n\t\tif(ot"]],"start1":10880,"start2":10880,"length1":16,"length2":27}]],"length":21258,"saved":false}
{"ts":1371399862620,"patch":[[{"diffs":[[0,"ength ? "],[1,"blockMetadata"],[0,"\n\t\tif(ot"]],"start1":10891,"start2":10891,"length1":16,"length2":29}]],"length":21271,"saved":false}
{"ts":1371399866698,"patch":[[{"diffs":[[0,"Metadata"],[1," : strength;"],[0,"\n\t\tif(ot"]],"start1":10904,"start2":10904,"length1":16,"length2":28}]],"length":21283,"saved":false}
{"ts":1371399869396,"patch":[[{"diffs":[[0,"th;\n"],[-1,"\t\tif(otherStrength > strength)\n\t\t\treturn otherStrength;\n\t\telse\n\t\t\treturn strength;\n"],[0,"\t}\n\n"]],"start1":10921,"start2":10921,"length1":91,"length2":8}]],"length":21200,"saved":false}
{"ts":1371400008588,"patch":[[{"diffs":[[0,"erLevel = 0;"],[1,"\n\t\tvar maxCurrentStr"],[0,"\n\n\t\tthis.wir"]],"start1":11111,"start2":11111,"length1":24,"length2":44}]],"length":21220,"saved":false}
{"ts":1371400010160,"patch":[[{"diffs":[[0,"rrentStr"],[1,"ength"],[0,"\n\n\t\tthis"]],"start1":11135,"start2":11135,"length1":16,"length2":21}]],"length":21225,"saved":false}
{"ts":1371400012358,"patch":[[{"diffs":[[0,"Strength"],[1," = this."],[0,"\n\n\t\tthis"]],"start1":11140,"start2":11140,"length1":16,"length2":24}]],"length":21233,"saved":false}
{"ts":1371400013440,"patch":[[{"diffs":[[0," = this."],[1,"get"],[0,"\n\n\t\tthis"]],"start1":11148,"start2":11148,"length1":16,"length2":19}]],"length":21236,"saved":false}
{"ts":1371400014150,"patch":[[{"diffs":[[0,"this.get"],[1,"M"],[0,"\n\n\t\tthis"]],"start1":11151,"start2":11151,"length1":16,"length2":17}]],"length":21237,"saved":false}
{"ts":1371400015104,"patch":[[{"diffs":[[0,"his.getM"],[1,"a"],[0,"\n\n\t\tthis"]],"start1":11152,"start2":11152,"length1":16,"length2":17}]],"length":21238,"saved":false}
{"ts":1371400016102,"patch":[[{"diffs":[[0,"is.getMa"],[1,"x"],[0,"\n\n\t\tthis"]],"start1":11153,"start2":11153,"length1":16,"length2":17}]],"length":21239,"saved":false}
{"ts":1371400019382,"patch":[[{"diffs":[[0," = this."],[-1,"getMax"],[0,"\n\n\t\tthis"]],"start1":11148,"start2":11148,"length1":22,"length2":16}]],"length":21233,"saved":false}
{"ts":1371400022186,"patch":[[{"diffs":[[0," = this."],[1,"getMaxCurrentStrength()"],[0,"\n\n\t\tthis"]],"start1":11148,"start2":11148,"length1":16,"length2":39}]],"length":21256,"saved":false}
{"ts":1371400025320,"patch":[[{"diffs":[[0,"trength("],[1,"world, sour"],[0,")\n\n\t\tthi"]],"start1":11170,"start2":11170,"length1":16,"length2":27}]],"length":21267,"saved":false}
{"ts":1371400025903,"patch":[[{"diffs":[[0,"ld, sour"],[1,"ce"],[0,")\n\n\t\tthi"]],"start1":11181,"start2":11181,"length1":16,"length2":18}]],"length":21269,"saved":false}
{"ts":1371400026581,"patch":[[{"diffs":[[0,", source"],[1,"X"],[0,")\n\n\t\tthi"]],"start1":11183,"start2":11183,"length1":16,"length2":17}]],"length":21270,"saved":false}
{"ts":1371400028738,"patch":[[{"diffs":[[0," sourceX"],[1,", sourceY,"],[0,")\n\n\t\tthi"]],"start1":11184,"start2":11184,"length1":16,"length2":26}]],"length":21280,"saved":false}
{"ts":1371400029614,"patch":[[{"diffs":[[0,"sourceY,"],[1," s"],[0,")\n\n\t\tthi"]],"start1":11194,"start2":11194,"length1":16,"length2":18}]],"length":21282,"saved":false}
{"ts":1371400031537,"patch":[[{"diffs":[[0,"urceY, s"],[1,"ourceZ"],[0,")\n\n\t\tthi"]],"start1":11196,"start2":11196,"length1":16,"length2":22}]],"length":21288,"saved":false}
{"ts":1371400038101,"patch":[[{"diffs":[[0," sourceZ"],[1,", wirePow"],[0,")\n\n\t\tthi"]],"start1":11202,"start2":11202,"length1":16,"length2":25}]],"length":21297,"saved":false}
{"ts":1371400039925,"patch":[[{"diffs":[[0," wirePow"],[1,"erLevel"],[0,")\n\n\t\tthi"]],"start1":11211,"start2":11211,"length1":16,"length2":23}]],"length":21304,"saved":false}
{"ts":1371400045528,"patch":[[{"diffs":[[0,"erLevel)"],[1,";"],[0,"\n\n\t\tthis"]],"start1":11219,"start2":11219,"length1":16,"length2":17}]],"length":21305,"saved":false}
